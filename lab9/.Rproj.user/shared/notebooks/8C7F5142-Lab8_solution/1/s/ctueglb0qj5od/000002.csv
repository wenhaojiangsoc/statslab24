"0","# First, you can sort out the Ys based on treated or not & counterfactual or not"
"0","observed_treated <- unemploy_df %>% filter(sch_high_q == 1)"
"0","observed_control <- unemploy_df %>% filter(sch_high_q == 0)"
"0","counterfactual_treated <- unemploy_df %>% filter(sch_high_q_counterf == 0)"
"0","counterfactual_control <- unemploy_df %>% filter(sch_high_q_counterf == 1)"
"0","# Note that observed_control is the same as counterfactual_control, "
"0","# same for the other pair"
"0","# Naive Estimator of the Average Treatment Effect"
"0","mean(observed_treated$unemp) - mean(observed_control$unemp)"
"1","[1]"
"1"," -0.9775141"
"1","
"
"0","# Treatment effect on the treated"
"0","mean(observed_treated$unemp) - mean(counterfactual_treated$unemp_counterf)"
"1","[1]"
"1"," -0.4000579"
"1","
"
"0","# Selection bias"
"0","mean(counterfactual_treated$unemp_counterf) - mean(observed_control$unemp)"
"1","[1]"
"1"," -0.5774562"
"1","
"
